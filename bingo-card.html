<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stranger Things Bingo Cards</title>
    <style>
        :root {
            --card-width: 1024px;
            --card-height: 1536px;
            --grid-left: 56px;
            --grid-top: 382px;
            --cell-size: 166px;
            --row-gap: 28px;
            --col-gap: 24px;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 20px;
            background: #111;
            color: #fff;
            font-family: "Copperplate", "Copperplate Gothic Light", "Cinzel", "Palatino Linotype", "Book Antiqua", Palatino, serif;
        }

        .controls {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .controls label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
        }

        .controls input {
            width: 70px;
            padding: 6px;
            font-size: 16px;
        }

        .controls button {
            padding: 8px 16px;
            border: 1px solid #fff;
            background: #222;
            color: #fff;
            cursor: pointer;
        }

        #cards {
            display: grid;
            gap: 30px;
        }

        .card {
            position: relative;
            width: var(--card-width);
            height: var(--card-height);
            page-break-after: always;
            break-after: page;
        }

        .card-bg {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
            z-index: 0;
            filter: brightness(1.12) saturate(0.9);
        }

        .grid {
            position: absolute;
            left: var(--grid-left);
            top: var(--grid-top);
            display: grid;
            grid-template-columns: repeat(5, var(--cell-size));
            grid-template-rows: repeat(5, var(--cell-size));
            row-gap: var(--row-gap);
            column-gap: var(--col-gap);
        }

        .cell {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 10px;
            font-size: 26px;
            line-height: 1.1;
            color: #111;
            text-transform: uppercase;
            letter-spacing: 0.4px;
            position: relative;
            z-index: 1;
        }

        .cell.cell--top-left {
            padding-top: 78px;
        }

        .cell.col-0 {
            transform: translateX(-16px);
        }

        .cell.col-1 {
            transform: translateX(-8px);
        }

        .cell.cell--bottom-left {
            align-items: flex-start;
            justify-content: flex-end;
            text-align: right;
            padding-top: 12px;
        }

        .cell.cell--bottom-center {
            align-items: flex-start;
            padding-top: 6px;
        }

        .cell.cell--bottom-right {
            align-items: flex-start;
            justify-content: flex-start;
            text-align: left;
            padding-top: 6px;
        }

        .cell.free {
            color: transparent;
        }

        @media print {
            body {
                margin: 0;
                background: #fff;
            }

            .controls {
                display: none;
            }

            #cards {
                gap: 0;
            }

            .card {
                page-break-after: always;
                break-after: page;
                page-break-inside: avoid;
                break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <div class="controls">
        <label>
            Card count
            <input type="number" id="card-count" value="4" min="1" max="20" />
        </label>
        <button id="generate">Generate</button>
        <button id="print" type="button" onclick="window.print()">Print</button>
    </div>

    <div id="cards"></div>

    <script>
        const OPTIONS = [
            "Eleven",
            "Will the Wise",
            "Mike Wheeler",
            "Dustin",
            "Max Mayfield",
            "Steve",
            "Hopper",
            "Joyce Byers",
            "Hawkins",
            "Hawkins Lab",
            "The Upside Down",
            "Starcourt Mall",
            "Scoops Ahoy",
            "The Arcade",
            "Vecna's Clock",
            "Walkie-Talkie",
            "Christmas Lights",
            "Bicycle",
            "Waffles",
            "The Squawk",
            "Radio",
            "Backpack",
            "Vecna",
            "Portal"
        ];

        const cardsEl = document.getElementById("cards");
        const countInput = document.getElementById("card-count");
        const generateBtn = document.getElementById("generate");
        const printBtn = document.getElementById("print");

        function shuffle(list) {
            const copy = [...list];
            for (let i = copy.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [copy[i], copy[j]] = [copy[j], copy[i]];
            }
            return copy;
        }

        function buildCard(items) {
            const card = document.createElement("div");
            card.className = "card";
            const bg = document.createElement("img");
            bg.className = "card-bg";
            bg.src = "assets/bingo-card.png";
            bg.alt = "Stranger Things bingo card";
            const grid = document.createElement("div");
            grid.className = "grid";

            let itemIndex = 0;
            for (let i = 0; i < 25; i++) {
                const cell = document.createElement("div");
                cell.className = "cell";
                if (i === 0) {
                    cell.classList.add("cell--top-left");
                }
                if (i % 5 === 0) {
                    cell.classList.add("col-0");
                }
                if (i % 5 === 1) {
                    cell.classList.add("col-1");
                }
                if (i === 20) {
                    cell.classList.add("cell--bottom-left");
                }
                if (i === 22) {
                    cell.classList.add("cell--bottom-center");
                }
                if (i === 24) {
                    cell.classList.add("cell--bottom-right");
                }
                if (i === 12) {
                    cell.classList.add("free");
                    cell.textContent = "FREE";
                } else {
                    cell.textContent = items[itemIndex];
                    itemIndex += 1;
                }
                grid.appendChild(cell);
            }

            card.appendChild(bg);
            card.appendChild(grid);
            return card;
        }

        function generateCards() {
            const count = Math.max(1, Number.parseInt(countInput.value, 10) || 1);
            cardsEl.innerHTML = "";
            for (let i = 0; i < count; i++) {
                const shuffled = shuffle(OPTIONS);
                const card = buildCard(shuffled);
                cardsEl.appendChild(card);
            }
        }

        generateBtn.addEventListener("click", generateCards);
        if (printBtn) {
            printBtn.addEventListener("click", () => window.print());
        }

        generateCards();
    </script>
</body>
</html>
